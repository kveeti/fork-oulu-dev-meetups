import"./hoisted.49d07815.js";const c=t=>{if(t&&(t.organizerLink&&!t.organizerLink.startsWith("http")&&(t.organizerLink=`https://${t.organizerLink}`),t.signupLink&&!t.signupLink.startsWith("http")&&(t.signupLink=`https://${t.signupLink}`),!t.locationLink&&t.location)){const e=t.location.split(" ");e.length>1?t.locationLink=`https://www.google.com/maps/place/${e[0]}+${e[1]},+Oulu+Finland`:t.locationLink=`https://www.google.com/maps/place/${e[0]},+Oulu+Finland`}},i=document.getElementById("submit-form"),s=document.getElementById("submit-form-fieldset"),o=t=>{document.getElementById("submit-error-element").classList.remove("hidden"),document.getElementById("submit-error-message").textContent=t};async function d(t){if(t.preventDefault(),!i||!s){console.log("no element");return}const e=new FormData(i),a=Object.fromEntries(e.entries());c(a),s.disabled=!0;const[n]=await Promise.allSettled([fetch("https://api.admin-e68.workers.dev/",{method:"POST",body:JSON.stringify(a),headers:{"Content-Type":"application/json"}}),new Promise(l=>setTimeout(l,800))]);if(s.disabled=!1,!n.status||n.status==="rejected"){o(n.reason||"unknown error");return}if(n.status!=="fulfilled"){o("no response");return}if(n.status==="fulfilled"&&n.value.ok===!1){o(`Submission failed, status ${n.value.status}, ${n.value.statusText}. Please try again later`);return}const r=await n.value.json();console.log(r),window.location.href=`/success?githubLink=${encodeURIComponent(r.issueUrl)}`}i.addEventListener("submit",d,!1);
